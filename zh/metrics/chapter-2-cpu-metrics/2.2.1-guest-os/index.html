<!doctype html><html lang=zh class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.85.0"><meta name=description content><link rel=icon href=/vmware-operations-guide/images/favicon.png type=image/png><title>1. 来宾操作系统 :: VMware 操作指南</title><link href=/vmware-operations-guide/css/clr-ui.min.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/fontawesome-all.min.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/featherlight.min.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/perfect-scrollbar.min.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/auto-complete.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/clarity-theme.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/jquery.dataTables.min.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/hugo-theme.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/theme.css?1634455839 rel=stylesheet><link href=/vmware-operations-guide/css/top-table.css?1634455839 rel=stylesheet><script src=/vmware-operations-guide/js/jquery-3.3.1.min.js?1634455839></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-4E70Q7EBYT"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-4E70Q7EBYT')</script></head><body data-url=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/2.2.1-guest-os/><div class=main-container><header class=header-6><div class=branding><a href=/vmware-operations-guide/ class=nav-link><svg width="50%" height="50%" viewBox="0 0 250 250" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="100%" height="100%" fill="#222723"/><path d="M190 235H60C56.0217 235 52.2064 233.42 49.3934 230.607 46.5803 227.794 45 223.978 45 220V205H30C26.0218 205 22.2064 203.42 19.3934 200.607S15 193.978 15 190V60c0-3.9783 1.5804-7.7936 4.3934-10.6066C22.2064 46.5803 26.0218 45 30 45H45V30c0-3.9782 1.5803-7.7936 4.3934-10.6066C52.2064 16.5804 56.0217 15 60 15H190C193.978 15 197.794 16.5804 200.607 19.3934S205 26.0218 205 30V45h15C223.978 45 227.794 46.5803 230.607 49.3934 233.42 52.2064 235 56.0217 235 60V190C235 193.978 233.42 197.794 230.607 200.607S223.978 205 220 205H205v15C205 223.978 203.42 227.794 200.607 230.607S193.978 235 190 235zM30 55C28.6739 55 27.4021 55.5268 26.4645 56.4645 25.5268 57.4021 25 58.6739 25 60V190C25 191.326 25.5268 192.598 26.4645 193.536 27.4021 194.473 28.6739 195 30 195H55v25C55 221.326 55.5268 222.598 56.4645 223.536 57.4021 224.473 58.6739 225 60 225H190C191.326 225 192.598 224.473 193.536 223.536 194.473 222.598 195 221.326 195 220V195h25C221.326 195 222.598 194.473 223.536 193.536 224.473 192.598 225 191.326 225 190V60C225 58.6739 224.473 57.4021 223.536 56.4645 222.598 55.5268 221.326 55 220 55H195V30C195 28.6739 194.473 27.4021 193.536 26.4645 192.598 25.5268 191.326 25 190 25H60C58.6739 25 57.4021 25.5268 56.4645 26.4645 55.5268 27.4021 55 28.6739 55 30V55H30z" fill="#85c81a"/><path d="M47.5 170C46.1739 170 44.9021 169.473 43.9645 168.536 43.0268 167.598 42.5 166.326 42.5 165V79.225C42.5016 77.4441 43.209 75.7364 44.4671 74.4759 45.7252 73.2155 47.4316 72.505 49.2125 72.5H72.6687V49.225C72.6704 47.4452 73.3769 45.7384 74.6336 44.4781c1.2568-1.2602 2.9616-1.9715 4.7414-1.9781H165C166.326 42.5 167.598 43.0268 168.536 43.9645 169.473 44.9021 170 46.1739 170 47.5S169.473 50.0979 168.536 51.0355C167.598 51.9732 166.326 52.5 165 52.5H82.6688v30H52.5V165C52.5 166.326 51.9732 167.598 51.0355 168.536 50.0979 169.473 48.8261 170 47.5 170z" fill="#85c81a"/><path d="M148.481 180h-47.5C99.3234 180 97.7336 179.342 96.5615 178.169 95.3894 176.997 94.731 175.408 94.731 173.75V155H75.981C74.3234 155 72.7336 154.342 71.5615 153.169 70.3894 151.997 69.731 150.408 69.731 148.75v-47.5c0-1.6576.6584-3.2473 1.8305-4.4194S74.3234 95 75.981 95h18.75V76.25c0-1.6576.6584-3.2473 1.8305-4.4194S99.3234 70 100.981 70h47.5C150.139 70 151.728 70.6585 152.9 71.8306S154.731 74.5924 154.731 76.25V95h18.75C175.139 95 176.728 95.6585 177.9 96.8306S179.731 99.5924 179.731 101.25v47.5C179.731 150.408 179.072 151.997 177.9 153.169 176.728 154.342 175.139 155 173.481 155h-18.75v18.75C154.731 175.408 154.072 176.997 152.9 178.169 151.728 179.342 150.139 180 148.481 180zm-43.75-10h40V145h25V105h-25V80h-40v25h-25v40h25v25z" fill="#0095d3"/></svg><span class=title>VMware 操作指南</span></a></div><div class="clr-row flex-grow"><div class="header-search clr-col-9"><form id=clarity-search class=search><label id=search-label for=search_input><input id=search_input class=search_input type=text placeholder="Search for keywords..."></label></form></div><div class=clr-col><div class=header-actions align=center><a href=https://github.com/TheNewStellW/vmware-operations-guide class="nav-link nav-icon" aria-label=Github target=_blank><i class="fab fa-github fa-lg"></i></a></div></div></div></header><div class=content-container><div class=content-area><section id=body><div class="padding highlightable"><div class=body-search><form id=clarity-search class=search><label id=search-label for=search_input><input id=search_input class=search_input type=text placeholder="Search for keywords..."></label></form></div><div><div id=top-bar><div id=top-github-link><a class=github-link title="Edit this page" href=https://github.com/TheNewStellW/vmware-operations-guide/tree/main/content/Metrics/Chapter%202%20-%20CPU%20Metrics/2.2.1-guest-os/_index.zh.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text>Edit this page</span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/vmware-operations-guide/zh/>VMware 操作指南</a> > <a href=/vmware-operations-guide/zh/metrics/>衡量指标</a> > <a href=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/>第 2 - 章 CPU 衡量指标</a> > 1. 来宾操作系统</span></div><div class=toc-menu><div class=wrapper><nav id=TableOfContents><ul><li><a href=#来宾操作系统-cpu-运行队列>来宾操作系统 CPU 运行队列</a></li><li><a href=#来宾操作系统-cpu-上下文切换>来宾操作系统 CPU 上下文切换</a></li><li><a href=#linux窃取时间>Linux窃取时间</a></li><li><a href=#其他客户操作系统衡量指标>其他客户操作系统衡量指标</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>1. 来宾操作系统</h1><p>我们从 <a href=/zh/operations-management/chapter-2-performance-management/1.2.4-contention-vs-utilization/>要衡量的竞争类型</a> 因为这是衡量性能的主要衡量指标，其次是衡量指标的利用类型。</p><p>ESXi 无法看到来宾操作系统如何调度其进程，因此无法监控来宾操作系统。 ESXi 只能看到来宾发送的内容。在客户操作系统内部运行的 VMware Tools 能够查看客户操作系统内部。为此，需要 VMware Tools 10.3.5 或更高版本以及至少 vSphere 6.0 P08、6.5 P03 和 6.7 U1。</p><h2 id=来宾操作系统-cpu-运行队列>来宾操作系统 CPU 运行队列</h2><p>处理器队列中的线程数。对于 Windows，此计数器不包括正在运行（正在执行）的线程。对于 Linux，它包括 CPU 管道中的线程。</p><p>让我们以配置有 8 个 vCPU 的 VM 为例。来宾操作系统有 8 个线程，因此最多可以调度 8 个并行进程。如果有更多的需求，它将不得不排队。这意味着需要在来宾操作系统大小调整中考虑队列。</p><p>因为它报告队列，所以这是衡量客户操作系统性能的主要计数器。它告诉您 CPU 是否正在努力满足需求。</p><p>什么是健康价值？</p><p>Windows 性能监视器 UI 描述与 MSDN 文档（基于 Windows Server 2016 文档）不一致。一份文件指出，超过 2 个线程的持续处理器队列通常表示处理器拥塞。但是，另一个声明“每个处理器少于 10 个线程的持续处理器队列通常是可以接受的，这取决于工作负载”。 SQL Server 文档将 3 作为阈值。如果您看到 Microsoft 或 Linux 的其他推荐，请告诉我。</p><p>Windows 或 Linux 利用率可能为 100%，但只要队列较少，工作负载就会尽可能快地运行。添加更多 vCPU 实际上会降低性能，因为您有更高的上下文切换机会 <a href=/zh/metrics/chapter-2-cpu-metrics/2.2.1-guest-os/#%E6%9D%A5%E5%AE%BE%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-cpu-%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2>上下文切换</a>.</p><p>即使在具有多个处理器的计算机上，处理器时间也只有一个队列。因此，如果计算机有多个处理器，则需要将此值除以服务于工作负载的处理器数量。这就是工具报告队列总数的原因。此计数器应在客户机操作系统 CPU 大小调整中发挥作用。 <a href=/zh/operations-management/chapter-3-capacity-management/1.3.12-rightsizing/#%E6%9D%A5%E5%AE%BE%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-cpu-%E5%A4%A7%E5%B0%8F%E8%B0%83%E6%95%B4>来宾操作系统 CPU 大小调整</a>.</p><p>您应该分析您的环境，因为某些 VM 的数量可能很高。看看我在下面得到的数字，其中一些 VM 每个 vCPU 有超过 10 个队列。与 VM Owner 共享发现，因为减少队列的补救措施可能意味着更改应用程序设置。</p><p><img src=2.2.1-fig-1.png alt=CPU队列大小对比表></p><p>让我们深入查看第一个 VM。</p><p><img src=2.2.1-fig-2.png alt="VM 上下文切换率和使用率"></p><p>CPU 运行队列多次出现峰值。它与模式中的 CPU 使用率和 CPU 上下文切换率不匹配。我不确定如何解释这一点，所以如果你知道给我留言。我注意到数据收集不稳定，所以让我们看看另一个虚拟机。</p><p>以下是运行 Photon OS 的 2 vCPU VM。 CPU 队列很高，即使 Photon 仅以 50% 运行。会不会是应用程序配置了太多线程导致 CPU 忙于进行上下文切换？请注意 CPU 队列映射 CPU 上下文切换率和 CPU 运行。在这种情况下，您应该提请应用程序团队注意，因为它可能会导致性能问题，解决方案是向内查看。为了证明这不是因为底层争用，我添加了 CPU Ready。</p><p><img src=2.2.1-fig-3.png alt=切换率与争用的比较></p><p>此属性仅显示最后观察到的值；这不是平均值。 Windows 和 Linux 也不提供最高和最低的变体。</p><p>对于 Linux，我们使用 /proc/stat（内核/系统统计信息）中的 procs_running 值。它显示处于可运行状态的进程数。它与 /proc/loadavg 中的值相同。它是所有 CPU 线程运行队列的总和。 nr_running 字段包括当前正在运行的任务和就绪但未运行的任务。</p><p>参考: <a href="https://msdn.microsoft.com/en-us/library/aa394272(v=vs.85).aspx">Windows</a> 和 <a href=http://man7.org/linux/man-pages/man5/proc.5.html>Linux</a>.</p><h2 id=来宾操作系统-cpu-上下文切换>来宾操作系统 CPU 上下文切换</h2><p><a href=https://en.wikipedia.org/wiki/Context_switch>CPU 上下文切换</a> 成本性能“由于运行 <a href=https://en.wikipedia.org/wiki/Scheduling_(computing)>任务调度程序</a>, TLB 刷新，间接由于共享 CPU 缓存 <a href=https://en.wikipedia.org/wiki/CPU_cache>CPU 缓存</a> 在多个任务之间”。 跟踪此计数器并至少了解该特定应用程序可接受的行为是很重要的。</p><p>根据 Windows 10 性能监视器文档，上下文切换/秒是计算机上所有处理器从一个线程切换到另一个线程的组合速率。在其他条件相同的情况下，处理器越多，上下文切换就越高。</p><div class="notices note"><p>线程切换可以发生在单个多线程进程内部或跨进程。线程切换可能是由一个线程向另一个线程请求信息引起的，或者是由一个线程被另一个更高优先级的线程抢占而准备运行引起的。</p></div><p>System 和 Thread 对象上有上下文切换计数器。 vRealize Operations 仅报告总数。</p><p>Windows 或 Linux 每秒切换 CPU 上下文的速率范围很广。以下内容取自具有 8 个物理线程的 Windows 10 桌面，它运行大约 10% 的 CPU。我观察到该值在 10K 到 50K 之间徘徊。</p><p><img src=2.2.1-fig-4.png alt="每秒 CPU 上下文"></p><p>该值应该与 CPU “利用率”相关，因为理论上利用率越高，CPU 上下文切换的机会就越大。下图显示了近乎完美的相关性。每次 CPU 使用率上升时，CPU 上下文切换也会发生。</p><p><img src=2.2.1-fig-5.png alt=CPU使用率与上下文切换的相关性></p><p>即使在单线程应用程序中也可能发生 CPU 上下文切换。下面显示了具有 4 个 vCPU 的 VDI VM。我绘制了 CPU 使用差异与 CPU 上下文切换的关系图。您可以看到使用差异高达 78%，这意味着最繁忙的 vCPU 和最空闲的 vCPU 之间的差距为 78%。这是运行一个安全代理，它不太可能被设计为占用多个 vCPU。</p><p><img src=2.2.1-fig-6.png alt=带有安全代理的虚拟机></p><p>让我们绘制同一时期的上下文切换。同时出现一个尖峰，表示代理正忙于上下文切换。请注意，它并不总是必须如此。红点表示即使 vCPU 使用差异上升，上下文切换也没有峰值。</p><p><img src=2.2.1-fig-7.png alt="vCPU 使用率差距增加"></p><p>CPU 上下文切换 的值变化很大。它可以远远超过 50 万，如下表所示，因此为该特定应用程序分析和建立正常基线非常重要。对 1 个 VM 健康的内容可能对另一个 VM 不健康。</p><p><img src=2.2.1-fig-8.png alt="CPU 上下文切换差异"></p><p>从表中可以看出，有些虚拟机经历了长时间的 CPU 上下文切换，而其他虚拟机则没有。 VM #4 只有短暂的爆发，因为第 95 个百分位数的值下降到 3796。上下文切换的瞬时峰值可能不会导致性能问题，因此通常将值取在第 95 个和第 99 个百分位数之间的某个位置更为明智。</p><p>让我们深入查看第一个 VM。这个只有 4 个 vCPU 的 CentOS VM 不断地达到近 100 万次上下文切换。模式匹配 CPU 使用率。</p><p><img src=2.2.1-fig-9.png alt=上下文切换与使用情况和队列的相关性></p><p>另一方面，大多数客户操作系统的花费远低于 10K。我分析了大约 2200 个生产虚拟机，这里是它们的 CPU 上下文切换的分布。可以看到0-12000之间的值占了80%。</p><p><img src=2.2.1-fig-10.png alt="CPU 上下文分布"></p><p>在您的环境中，您可以进一步分析它。在以下示例中，我通过将 10K 以上的所有值分组为一个存储桶，并将 0 - 10K 存储桶拆分为多个存储桶来调整存储桶阈值。您可以看到超过一半的 CPU 上下文切换率低于 1K。</p><p><img src=2.2.1-fig-11.png alt=CPU上下文切换分布></p><h2 id=linux窃取时间>Linux窃取时间</h2><p>根据 Red Hat 文档, <a href=https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/virtualization_deployment_and_administration_guide/sect-kvm_guest_timing_management-steal_time_accounting>Steal Time</a> 是虚拟机管理程序未提供的 VM 所需的 CPU 时间量。它发生在主机为其自己的进程或另一个来宾分配 CPU 资源时。</p><p>虽然 Linux 有此计数器，但它在 ESXi 上运行时为 0，因为默认情况下未启用它。即使启用，它也只考虑就绪时间。它不考虑其他时间，例如 CoStop、VM Wait 和内存等待。</p><p>CPU 就绪包括限制。我还没有验证 Linux Steal Time 是否考虑到了它。</p><h2 id=其他客户操作系统衡量指标>其他客户操作系统衡量指标</h2><p>当 CPU 频率高于标称速度时，Windows 8 及更高版本将在任务管理器和性能监视器中报告 CPU 使用率 >100%。更改的原因与我们迄今为止所涵盖的相同，即需要区分正在完成的工作量。 更多在这里 <a href=https://docs.microsoft.com/en-us/troubleshoot/windows-client/performance/cpu-usage-exceeds-100>这里</a>.</p><p><img src=2.2.1-fig-12.png alt="CPU 使用率超过 100%"></p><p>参考: <a href="https://msdn.microsoft.com/en-us/library/aa394279(v=vs.85).aspx">Windows</a> 和 <a href=http://man7.org/linux/man-pages/man5/proc.5.html>Linux</a>.</p><div class="navigation-buttons clr-row"><div class="clr-col nav-prev"><a class=nav-prev href=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/ title="第 2 - 章 CPU 衡量指标"><i class="fa fa-chevron-left"></i></a></div><div class="clr-col nav-next"><a class=nav-next href=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/2.2.4-quiz-time/ title="4. 小测验时间!"><i class="fa fa-chevron-right"></i></a></div></div><hr>This page was last updated on October 17, 2021 by Vinay Vivekananda
with commit message: "enable gh-pages for demo"</div></div><div id=navigation><a class="nav nav-prev" href=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/ title="第 2 - 章 CPU 衡量指标"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/2.2.4-quiz-time/ title="4. 小测验时间!" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div></div><nav id=sidebar class=sidenav><section class=sidenav-content><ul class="topics nav-list"><li data-nav-id=/vmware-operations-guide/zh/operations-management/ title=运行管理 class=dd-item><a href=/vmware-operations-guide/zh/operations-management/ class=nav-link>运行管理</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/ title="第 1 - 章概述" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/ class=nav-link>第 1 - 章概述</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.1-complaint-based-operations/ title="1. 基于投诉的运营" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.1-complaint-based-operations/ class=nav-link>1. 基于投诉的运营</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.2-purpose-driven-architecture/ title="2. 目的驱动架构" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.2-purpose-driven-architecture/ class=nav-link>2. 目的驱动架构</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.3-multi-cloud-operations/ title="3. 多云基础设施运营" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.3-multi-cloud-operations/ class=nav-link>3. 多云基础设施运营</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.4-begin-with-the-end-in-mind/ title="4. 开始思考如何结束" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.4-begin-with-the-end-in-mind/ class=nav-link>4. 开始思考如何结束</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.5-vcdx-vs-vcox/ title="5. VCDX 关系到 VCOX" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.5-vcdx-vs-vcox/ class=nav-link>5. VCDX 关系到 VCOX</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.6-the-restaurant-analogy/ title="6. 餐厅类比" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.6-the-restaurant-analogy/ class=nav-link>6. 餐厅类比</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.7-service-level-agreement/ title="7. 服务水平协议" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.7-service-level-agreement/ class=nav-link>7. 服务水平协议</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.8-pillar-process-people/ title="8. 支柱、流程和人员" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.8-pillar-process-people/ class=nav-link>8. 支柱、流程和人员</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.9-insight-vs-alert/ title="9. 洞察力和警报" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-1-overview/1.1.9-insight-vs-alert/ class=nav-link>9. 洞察力和警报</a></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/ title="第 2 - 章绩效管理" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/ class=nav-link>第 2 - 章绩效管理</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.1-a-day-in-the-life/ title="1. 云管理员生活中的一天" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.1-a-day-in-the-life/ class=nav-link>1. 云管理员生活中的一天</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.2-the-3-realms/ title="2. 3个领域" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.2-the-3-realms/ class=nav-link>2. 3个领域</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.3-plan-monitor-troubleshoot-optimize/ title="3. 计划 监视器 故障排除 优化" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.3-plan-monitor-troubleshoot-optimize/ class=nav-link>3. 计划 监视器 故障排除 优化</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.4-contention-vs-utilization/ title="4. 争用与使用" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.4-contention-vs-utilization/ class=nav-link>4. 争用与使用</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.5-performance-vs-capacity/ title="5. 性能与容量" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.5-performance-vs-capacity/ class=nav-link>5. 性能与容量</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.6-performance-sla/ title="6. 性能 SLA" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.6-performance-sla/ class=nav-link>6. 性能 SLA</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.7-kpi-vs-sla/ title="7. 关键绩效指标和服务水平协议" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.7-kpi-vs-sla/ class=nav-link>7. 关键绩效指标和服务水平协议</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.8-depth-vs-breadth/ title="8. 深度和广度" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.8-depth-vs-breadth/ class=nav-link>8. 深度和广度</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.9-leading-indicators/ title="9. 领先指标" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.9-leading-indicators/ class=nav-link>9. 领先指标</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.10-baseline-profiling/ title="10. 基线分析" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.10-baseline-profiling/ class=nav-link>10. 基线分析</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.11-optimized-performance/ title="11. 优化性能" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.11-optimized-performance/ class=nav-link>11. 优化性能</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.12-root-cause-analysis/ title="12. 根本原因分析" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-2-performance-management/1.2.12-root-cause-analysis/ class=nav-link>12. 根本原因分析</a></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/ title="第 3 - 章容量管理" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/ class=nav-link>第 3 - 章容量管理</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.1-good-advice/ title='1. "好处" 劝告' class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.1-good-advice/ class=nav-link>1. "好处" 劝告</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.2-end-to-end-capacity/ title="2. 端到端容量" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.2-end-to-end-capacity/ class=nav-link>2. 端到端容量</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.3-capacity-planning/ title="3. 容量规划" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.3-capacity-planning/ class=nav-link>3. 容量规划</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.4-demand-model/ title="4. 需求模型" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.4-demand-model/ class=nav-link>4. 需求模型</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.5-allocation-model/ title="5. 分配模型" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.5-allocation-model/ class=nav-link>5. 分配模型</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.6-usable-capacity/ title="6. 可用容量" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.6-usable-capacity/ class=nav-link>6. 可用容量</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.7-projection/ title="7. 投影" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.7-projection/ class=nav-link>7. 投影</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.8-peak-utilization/ title="8. 峰值利用率" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.8-peak-utilization/ class=nav-link>8. 峰值利用率</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.9-storage-capacity/ title="9. 存储容量" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.9-storage-capacity/ class=nav-link>9. 存储容量</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.10-optimized-capacity/ title="10. 优化产能" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.10-optimized-capacity/ class=nav-link>10. 优化产能</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.11-reclamation/ title="11. 开垦" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.11-reclamation/ class=nav-link>11. 开垦</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.12-rightsizing/ title="12. 调整大小" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-3-capacity-management/1.3.12-rightsizing/ class=nav-link>12. 调整大小</a></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-4-configuration-management/ title="第 4 - 章配置管理" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-4-configuration-management/ class=nav-link>第 4 - 章配置管理</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-4-configuration-management/1.4.1-overview/ title="1. 概述" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-4-configuration-management/1.4.1-overview/ class=nav-link>1. 概述</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-4-configuration-management/1.4.2-review-flow/ title="2. 审核流程" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-4-configuration-management/1.4.2-review-flow/ class=nav-link>2. 审核流程</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-4-configuration-management/1.4.3-plan-vs-reality/ title="3. 计划与现实" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-4-configuration-management/1.4.3-plan-vs-reality/ class=nav-link>3. 计划与现实</a></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-5-cost-management/ title="第 5  - 章成本管理" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-5-cost-management/ class=nav-link>第 5 - 章成本管理</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-5-cost-management/1.5.1-dare-to-compare/ title="1. 敢比较" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-5-cost-management/1.5.1-dare-to-compare/ class=nav-link>1. 敢比较</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-5-cost-management/1.5.2-price/ title="2. 价格" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-5-cost-management/1.5.2-price/ class=nav-link>2. 价格</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-5-cost-management/1.5.3-cost/ title="3. 成本" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-5-cost-management/1.5.3-cost/ class=nav-link>3. 成本</a></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/ title="第 6 - 章合规管理" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/ class=nav-link>第 6 - 章合规管理</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.1-overview/ title="1. 概述" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.1-overview/ class=nav-link>1. 概述</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.2-security-approach/ title="2. 网络安全方法" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.2-security-approach/ class=nav-link>2. 网络安全方法</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.3-continuous-compliance/ title="3. 持续合规" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.3-continuous-compliance/ class=nav-link>3. 持续合规</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.4-how-the-policies-work/ title="4. 政策如何运作" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.4-how-the-policies-work/ class=nav-link>4. 政策如何运作</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.5-regulatory-benchmarks/ title="5. 监管基准" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.5-regulatory-benchmarks/ class=nav-link>5. 监管基准</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.6-custom-benchmarks/ title="6. 自定义基准" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.6-custom-benchmarks/ class=nav-link>6. 自定义基准</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.7-checking-the-result/ title="7. 查看您的结果" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-6-compliance-management/1.6.7-checking-the-result/ class=nav-link>7. 查看您的结果</a></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/ title="第 7 - 章可用性管理" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/ class=nav-link>第 7 - 章可用性管理</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/1.7.1-standalone-system/ title="1. 独立系统”" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/1.7.1-standalone-system/ class=nav-link>1. 独立系统”</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/1.7.2-multi-component-system/ title="2. 多组分系统" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/1.7.2-multi-component-system/ class=nav-link>2. 多组分系统</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/1.7.3-availability-reporting/ title="3. 可用性状态" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/1.7.3-availability-reporting/ class=nav-link>3. 可用性状态</a></li><li data-nav-id=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/1.7.4-disaster-avoidance-and-recovery/ title="4. 灾难避免和恢复" class=dd-item><a href=/vmware-operations-guide/zh/operations-management/chapter-7-availability-management/1.7.4-disaster-avoidance-and-recovery/ class=nav-link>4. 灾难避免和恢复</a></li></ul></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/metrics/ title=衡量指标 class="dd-item
parent"><a href=/vmware-operations-guide/zh/metrics/ class=nav-link>衡量指标</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-1-overview/ title="第 1  - 章概述" class=dd-item><a href=/vmware-operations-guide/zh/metrics/chapter-1-overview/ class=nav-link>第 1 - 章概述</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.1-nuances-in-metrics/ title="1. 衡量指标的细微差别" class=dd-item><a href=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.1-nuances-in-metrics/ class=nav-link>1. 衡量指标的细微差别</a></li><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.2-guest-os-vs-vm/ title="2. 来宾操作系统与虚拟机" class=dd-item><a href=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.2-guest-os-vs-vm/ class=nav-link>2. 来宾操作系统与虚拟机</a></li><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.3-roll-up-vs-aggregation/ title="3. 随着时间的推移聚合 vs 更高级别对象的聚合" class=dd-item><a href=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.3-roll-up-vs-aggregation/ class=nav-link>3. 随着时间的推移聚合 vs 更高级别对象的聚合</a></li><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.4-resource-management/ title="4. 资源管理" class=dd-item><a href=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.4-resource-management/ class=nav-link>4. 资源管理</a></li><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.5-esxtop/ title="5. ESXTOP" class=dd-item><a href=/vmware-operations-guide/zh/metrics/chapter-1-overview/2.1.5-esxtop/ class=nav-link>5. ESXTOP</a></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/ title="第 2 - 章 CPU 衡量指标" class="dd-item
parent"><a href=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/ class=nav-link>第 2 - 章 CPU 衡量指标</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/2.2.1-guest-os/ title="1. 来宾操作系统" class="dd-item
parent
active"><a href=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/2.2.1-guest-os/ class="nav-link active">1. 来宾操作系统</a></li><li data-nav-id=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/2.2.4-quiz-time/ title="4. 小测验时间!" class=dd-item><a href=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/2.2.4-quiz-time/ class=nav-link>4. 小测验时间!</a></li></ul></li></ul></li><li data-nav-id=/vmware-operations-guide/zh/dashboards/ title=仪表盘 class=dd-item><a href=/vmware-operations-guide/zh/dashboards/ class=nav-link>仪表盘</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/dashboards/chapter-1-design-considerations/ title="第 1 - 章设计注意事项" class=dd-item><a href=/vmware-operations-guide/zh/dashboards/chapter-1-design-considerations/ class=nav-link>第 1 - 章设计注意事项</a><ul class=nav-list><li data-nav-id=/vmware-operations-guide/zh/dashboards/chapter-1-design-considerations/3.1.1-dashboard-alert-report/ title="1. 仪表盘|警报 |报告" class=dd-item><a href=/vmware-operations-guide/zh/dashboards/chapter-1-design-considerations/3.1.1-dashboard-alert-report/ class=nav-link>1. 仪表盘|警报 |报告</a></li><li data-nav-id=/vmware-operations-guide/zh/dashboards/chapter-1-design-considerations/3.1.3-interaction/ title="3. 相互作用" class=dd-item><a href=/vmware-operations-guide/zh/dashboards/chapter-1-design-considerations/3.1.3-interaction/ class=nav-link>3. 相互作用</a></li></ul></li></ul></li></ul><section id=shortcuts><h3>Links</h3><ul class=nav-list><li><a class=padding href=https://www.funkycloudmedina.com/>Hosted on FunkyCloudMedina</a></li><li><a class=padding href=https://learncloudassembly.github.io/>Learn Cloud Assembly</a></li><li><a class=padding href=https://learnservicebroker.github.io/>Learn Service Broker</a></li><li><a class=padding href=https://learncodestream.github.io/>Learn Code Stream</a></li><li><a class=padding href=https://learnsaltstackconfig.github.io/>Learn Salt Stack</a></li></ul></section><section id=shortcuts><h3>Language</h3><ul><li><a class=padding><div class=clr-select-wrapper><i class="fas fa-language fa-fw"></i>
<select class=clr-select id=select-language onchange="location=this.value"><option id=en value=/vmware-operations-guide/metrics/chapter-2-cpu-metrics/2.2.1-guest-os/>
English</option><option id=zh-tw value=/vmware-operations-guide/zh-tw/metrics/chapter-2-cpu-metrics/2.2.1-guest-os/>
Chinese (Traditional)</option><option id=zh value=/vmware-operations-guide/zh/metrics/chapter-2-cpu-metrics/2.2.1-guest-os/ selected>Chinese (Simplified)</option></select></div></a></li></ul></section><section id=shortcuts><h3>Contribute</h3><div style=padding-left:1em><a class=github-button href=https://github.com/TheNewStellW/vmware-operations-guide/subscription data-icon=octicon-eye data-size=small data-show-count=true aria-label="Watch TheNewStellW/vmware-operations-guide on GitHub">Watch</a>
<a class=github-button href=https://github.com/TheNewStellW/vmware-operations-guide data-icon=octicon-star data-show-count=true aria-label="Star TheNewStellW/vmware-operations-guide on GitHub">Star</a>
<a class=github-button href=https://github.com/TheNewStellW/vmware-operations-guide/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork TheNewStellW/vmware-operations-guide on GitHub">Fork</a>
<a class=github-button href=https://github.com/TheNewStellW/vmware-operations-guide/issues data-icon=octicon-issue-opened data-show-count=true aria-label="Issue TheNewStellW/vmware-operations-guide on GitHub">Issue</a>
<a class=github-button href=https://github.com/TheNewStellW/vmware-operations-guide/discussions data-icon=octicon-comment-discussion aria-label="Discuss TheNewStellW/vmware-operations-guide on GitHub">Discuss</a></div><script async defer src=https://buttons.github.io/buttons.js></script></section></section></nav></div></div><script src=/vmware-operations-guide/js/clipboard.min.js?1634455839></script><script src=/vmware-operations-guide/js/perfect-scrollbar.min.js?1634455839></script><script src=/vmware-operations-guide/js/perfect-scrollbar.jquery.min.js?1634455839></script><script src=/vmware-operations-guide/js/jquery.sticky.js?1634455839></script><script src=/vmware-operations-guide/js/featherlight.min.js?1634455839></script><script src=/vmware-operations-guide/js/highlight.pack.js?1634455839></script><script>hljs.initHighlightingOnLoad()</script><script src=/vmware-operations-guide/js/modernizr.custom-3.6.0.js?1634455839></script><script src=/vmware-operations-guide/js/learn.js?1634455839></script><script src=/vmware-operations-guide/js/hugo-learn.js?1634455839></script><script src=/vmware-operations-guide/js/jquery.dataTables.min.js?1634455839></script><script src=/vmware-operations-guide/js/datatable.js?1634455839></script><script type=text/javascript src=/vmware-operations-guide/js/lunr.min.js?1634455839></script><script type=text/javascript src=/vmware-operations-guide/js/auto-complete.js?1634455839></script><script type=text/javascript>var baseurl="/vmware-operations-guide//zh"</script><script type=text/javascript src=/vmware-operations-guide/js/search.js?1634455839></script><script src=/vmware-operations-guide/mermaid/mermaid.js?1634455839></script><script>mermaid.initialize({startOnLoad:!0})</script><script>$(document).ready(function(){$('a[href]').click(function(){let a=$(this).attr('href');if(a&&a.length>0&&a.charAt(0)==='#'){a=a.replace(':','\\:');let b=$(a);if(b&&b.length){let a=b[0].offsetTop;if(a){let b=a;top&&$('.content-area').animate({scrollTop:b},1e3)}}}})})</script><p style="text-align:center;font-size:.6rem!important;margin:0;padding:.5rem 0;background-color:#f2f2f2">VMware and the VMware taglines, logos and product names are trademarks or registered trademarks of VMware in the U.S. and other countries.</p></body></html>